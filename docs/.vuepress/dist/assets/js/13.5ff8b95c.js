(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{410:function(s,t,a){"use strict";a.r(t);var n=a(56),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"centos7-离线安装-mysql5-7-34-配置远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7-离线安装-mysql5-7-34-配置远程登录"}},[s._v("#")]),s._v(" CentOS7 离线安装 mysql5.7.34(配置远程登录)")]),s._v(" "),a("h2",{attrs:{id:"安装-msyql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-msyql"}},[s._v("#")]),s._v(" 安装 msyql")]),s._v(" "),a("ol",[a("li",[s._v("下载压缩包:"),a("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/mysql/downloads/MySQL-5.7/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mirrors.tuna.tsinghua.edu.cn/mysql/downloads/MySQL-5.7/"),a("OutboundLink")],1),s._v(" "),a("strong",[s._v("mysql-5.7.34-1.el7.x86_64.rpm-bundle.tar")]),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/f0d02f46df56449fbfa060c63bcee747.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-S8mumjnueahOiCpeeJmw==,size_20,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})]),s._v(" "),a("li",[s._v("解压压缩包并依次安装")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("解压\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf mysql-5.7.34-1.el7.x86_64.rpm-bundle.tar\n\n依次安装\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-common-5.7.34-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-libs-5.7.34-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-devel-5.7.34-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-libs-compat-5.7.34-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-client-5.7.34-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-server-5.7.34-1.el7.x86_64.rpm\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("关闭服务")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld stop\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("修改配置文件")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/my.cnf\n\n在文件加入 skip-grant-tables  表示登录不需要密码\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("开启服务")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("登录修改密码")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("mysql -uroot -p 直接enter\n\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1064")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("不用管"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新权限")]),s._v("\nQuery OK, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rows affected "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rows affected, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" warning "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新权限")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("quit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#退出")]),s._v("\n\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[s._v("修改配置文件")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/my.cnf\n在文件注释  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# skip-grant-tables  表示登录需要密码")]),s._v("\n")])])]),a("ol",{attrs:{start:"8"}},[a("li",[s._v("再次启动数据库,输入密码登录")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n")])])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/c5ae70e549104044835533fc6bb2cb59.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-S8mumjnueahOiCpeeJmw==,size_20,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})]),s._v(" "),a("h2",{attrs:{id:"配置-navcat-远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-navcat-远程登录"}},[s._v("#")]),s._v(" 配置 navcat 远程登录")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" grant all on *.* to root@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v(" with grant option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" quit\n")])])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/32b99ab68dca449f9e3a61ad9c452123.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAX-S8mumjnueahOiCpeeJmw==,size_20,color_FFFFFF,t_70,g_se,x_16",alt:"在这里插入图片描述"}})]),s._v(" "),a("p",[a("strong",[s._v("最后设置开机自启动: systemctl enable mysqld")])]),s._v(" "),a("h2",{attrs:{id:"安装数据库的坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装数据库的坑"}},[s._v("#")]),s._v(" 安装数据库的坑")]),s._v(" "),a("p",[a("strong",[s._v("坑 1： 关于 mysql5.7.34 聚合函数查询失败的解决方案")])]),s._v(" "),a("ol",[a("li",[s._v("windows: 在 my.ini 文件内加 "),a("code",[s._v("sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")])]),s._v(" "),a("li",[s._v("linux: 在/etc/my.cnf 文件，[mysqld]下加"),a("code",[s._v("sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")])])]),s._v(" "),a("p",[a("strong",[s._v("坑 2：连接池的关闭 The last packet sent successfully to the server was 0 milliseconds ago.")])]),s._v(" "),a("ol",[a("li",[s._v("windows: 在 my.ini 文件添加"),a("code",[s._v("wait_timeout=86400")])]),s._v(" "),a("li",[s._v("linux: 在/etc/mysql/mysql.conf.d/mysqld.cnf 中加"),a("code",[s._v("wait_timeout=86400")])])]),s._v(" "),a("h2",{attrs:{id:"windows-安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-安装mysql"}},[s._v("#")]),s._v(" windows 安装mysql")]),s._v(" "),a("p",[s._v("提供一下 windows 系统 mysql 的安装链接："),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/351866694",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://zhuanlan.zhihu.com/p/351866694"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);